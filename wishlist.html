<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Wishlist - Gloriva Lighting</title>
    <meta
      name="description"
      content="Manage your saved lighting products at Gloriva Lighting."
    />

    <!-- Bootstrap 4 -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- AOS -->
    <link
      href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <style>
      body {
        font-family: "Montserrat", sans-serif;
        background-color: #f9f9f9;
        transition: background-color 0.4s ease;
      }

      .page-header {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url("https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80");
        background-size: cover;
        background-position: center;
        color: white;
        padding: 120px 0 80px;
        margin-top: 80px;
        text-align: center;
      }

      .wishlist-item {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        margin-bottom: 24px;
      }

      .wishlist-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
      }

      .wishlist-image img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .wishlist-item:hover .wishlist-image img {
        transform: scale(1.08);
      }

      .price-tag {
        font-size: 20px;
        font-weight: 700;
        color: #333;
      }

      .stock.in-stock {
        color: #28a745;
      }
      .stock.low-stock {
        color: #ffc107;
      }
      .stock.out-of-stock {
        color: #dc3545;
      }

      .quantity-selector {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 12px 0;
      }

      .quantity-selector button {
        width: 36px;
        height: 36px;
        border: 1px solid #ddd;
        background: #fff;
        font-size: 18px;
        border-radius: 6px;
      }

      .quantity-selector input {
        width: 60px;
        height: 36px;
        text-align: center;
        border: 1px solid #ddd;
        border-radius: 6px;
      }

      #toast {
        position: fixed;
        top: 100px;
        right: 20px;
        min-width: 300px;
        padding: 16px 24px;
        background: #28a745;
        color: white;
        border-radius: 8px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        z-index: 1050;
        transform: translateX(120%);
        transition: transform 0.4s ease;
        font-weight: 500;
      }

      #toast.show {
        transform: translateX(0);
      }

      #toast.error {
        background: #dc3545;
      }

      .empty-wishlist {
        text-align: center;
        padding: 100px 20px;
        display: none;
      }

      .empty-wishlist i {
        font-size: 80px;
        color: #ccc;
        margin-bottom: 20px;
      }

      @media (max-width: 767px) {
        .quantity-selector {
          justify-content: center;
        }
        .wishlist-price {
          text-align: center;
          margin-top: 15px;
        }
      }

      body.dark-mode {
        background-color: #121212;
        color: #f0f0f0;
      }

      body.dark-mode .wishlist-item {
        background: #1e1e1e;
      }

      body.dark-mode .price-tag,
      body.dark-mode h2,
      body.dark-mode h4 {
        color: #f0f0f0;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top"
    >
      <div class="container">
        <a class="navbar-brand font-weight-bold" href="index.html">
          <!-- <img
            src="Gloriva Lighting.png"
            alt="Gloriva Lighting"
            width="40"
            class="mr-2"
          /> -->
          Gloriva Lighting
        </a>
        <div class="ml-auto d-flex align-items-center">
          <a href="wishlist.html" class="position-relative mx-3 text-dark">
            <i class="fas fa-heart fa-lg"></i>
            <span
              class="badge badge-warning position-absolute"
              style="top: -8px; right: -10px; font-size: 11px"
              id="wishlist-count"
              >4</span
            >
          </a>
          <a
            href="cart.html"
            class="position-relative mx-3 text-dark cart-toggle"
          >
            <i class="fas fa-shopping-cart fa-lg"></i>
            <span
              class="badge badge-primary position-absolute count"
              style="top: -8px; right: -10px; font-size: 11px"
              >0</span
            >
          </a>
        </div>
      </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
      <div class="container">
        <h1 class="display-4 font-weight-bold">My Wishlist</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-center bg-transparent">
            <li class="breadcrumb-item">
              <a href="index.html" class="text-white">Home</a>
            </li>
            <li class="breadcrumb-item active text-white-50">Wishlist</li>
          </ol>
        </nav>
      </div>
    </section>

    <!-- Wishlist Content -->
    <section class="py-5">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="mb-0">Saved Items (<span id="item-count">4</span>)</h2>
          <div>
            <button
              class="btn btn-outline-secondary btn-sm mr-2"
              id="share-wishlist"
            >
              <i class="far fa-envelope"></i> Share
            </button>
            <button class="btn btn-outline-danger btn-sm" id="clear-all-btn">
              <i class="far fa-trash-alt"></i> Clear All
            </button>
          </div>
        </div>

        <div class="wishlist-items" id="wishlist-items">
          <!-- Item 1 -->
          <div class="wishlist-item" data-product-id="1" data-aos="fade-up">
            <div class="row align-items-center p-4">
              <div class="col-md-2 col-4">
                <div class="wishlist-image">
                  <img
                    src="img/pendant.light1.jpg"
                    alt="Aurelia Pendant"
                    class="rounded img-fluid"
                  />
                </div>
              </div>
              <div class="col-md-4 col-8">
                <h4 class="mb-1">Aurelia Pendant</h4>
                <div class="text-warning small mb-2">
                  <i class="fas fa-star"></i><i class="fas fa-star"></i
                  ><i class="fas fa-star"></i><i class="fas fa-star"></i
                  ><i class="fas fa-star-half-alt"></i>
                  <span class="text-muted ml-1">(24)</span>
                </div>
                <p class="text-muted mb-0">Pendant Lights</p>
              </div>
              <div class="col-md-2 text-center">
                <p class="price-tag mb-1">₹16,599</p>
                <span class="stock in-stock small"
                  ><i class="fas fa-check-circle"></i> In Stock</span
                >
              </div>
              <div class="col-md-4 text-md-right">
                <div class="quantity-selector">
                  <button class="qty-minus">-</button>
                  <input type="text" value="1" class="qty-input" readonly />
                  <button class="qty-plus">+</button>
                </div>
                <button class="btn btn-primary btn-block mb-2 add-to-cart-btn">
                  Add to Cart
                </button>
                <a href="#" class="text-danger small remove-item"
                  ><i class="far fa-trash-alt"></i> Remove</a
                >
              </div>
            </div>
          </div>

          <!-- Item 2 -->
          <div
            class="wishlist-item"
            data-product-id="2"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <div class="row align-items-center p-4">
              <div class="col-md-2 col-4">
                <div class="wishlist-image">
                  <img
                    src="img/chandelier1.jpg"
                    alt="Celestial Chandelier"
                    class="rounded img-fluid"
                  />
                </div>
              </div>
              <div class="col-md-4 col-8">
                <h4 class="mb-1">Celestial Chandelier</h4>
                <div class="text-warning small mb-2">
                  ★★★★★ <span class="text-muted ml-1">(42)</span>
                </div>
                <p class="text-muted mb-0">Chandeliers</p>
              </div>
              <div class="col-md-2 text-center">
                <p class="price-tag mb-1">₹41,499</p>
                <span class="stock in-stock small"
                  ><i class="fas fa-check-circle"></i> In Stock</span
                >
              </div>
              <div class="col-md-4 text-md-right">
                <div class="quantity-selector">
                  <button class="qty-minus">-</button>
                  <input type="text" value="1" class="qty-input" readonly />
                  <button class="qty-plus">+</button>
                </div>
                <button class="btn btn-primary btn-block mb-2 add-to-cart-btn">
                  Add to Cart
                </button>
                <a href="#" class="text-danger small remove-item"
                  ><i class="far fa-trash-alt"></i> Remove</a
                >
              </div>
            </div>
          </div>

          <!-- Item 3 -->
          <div
            class="wishlist-item"
            data-product-id="3"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <div class="row align-items-center p-4">
              <div class="col-md-2 col-4">
                <div class="wishlist-image">
                  <img
                    src="img/wall-light1.jpg"
                    alt="Luna Wall Sconce"
                    class="rounded img-fluid"
                  />
                </div>
              </div>
              <div class="col-md-4 col-8">
                <h4 class="mb-1">Luna Wall Sconce</h4>
                <div class="text-warning small mb-2">
                  ★★★★☆ <span class="text-muted ml-1">(18)</span>
                </div>
                <p class="text-muted mb-0">Wall Lights</p>
              </div>
              <div class="col-md-2 text-center">
                <p class="price-tag mb-1">₹10,799</p>
                <span class="stock low-stock small"
                  ><i class="fas fa-exclamation-circle"></i> Low Stock</span
                >
              </div>
              <div class="col-md-4 text-md-right">
                <div class="quantity-selector">
                  <button class="qty-minus">-</button>
                  <input type="text" value="1" class="qty-input" readonly />
                  <button class="qty-plus">+</button>
                </div>
                <button class="btn btn-primary btn-block mb-2 add-to-cart-btn">
                  Add to Cart
                </button>
                <a href="#" class="text-danger small remove-item"
                  ><i class="far fa-trash-alt"></i> Remove</a
                >
              </div>
            </div>
          </div>

          <!-- Item 4 -->
          <div
            class="wishlist-item"
            data-product-id="4"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div class="row align-items-center p-4">
              <div class="col-md-2 col-4">
                <div class="wishlist-image">
                  <img
                    src="img/smart-light1.jpg"
                    alt="Nova Smart Table Lamp"
                    class="rounded img-fluid"
                  />
                </div>
              </div>
              <div class="col-md-4 col-8">
                <h4 class="mb-1">Nova Smart Table Lamp</h4>
                <div class="text-warning small mb-2">
                  ★★★★☆ <span class="text-muted ml-1">(31)</span>
                </div>
                <p class="text-muted mb-0">Smart Lighting</p>
              </div>
              <div class="col-md-2 text-center">
                <p class="price-tag mb-1">₹13,299</p>
                <span class="stock out-of-stock small"
                  ><i class="fas fa-times-circle"></i> Out of Stock</span
                >
              </div>
              <div class="col-md-4 text-md-right">
                <button
                  class="btn btn-outline-secondary btn-block mb-2"
                  disabled
                >
                  Out of Stock
                </button>
                <button class="btn btn-outline-info btn-block mb-2">
                  Notify Me
                </button>
                <a href="#" class="text-danger small remove-item"
                  ><i class="far fa-trash-alt"></i> Remove</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Empty State -->
        <div class="empty-wishlist">
          <i class="far fa-heart"></i>
          <h3 class="mt-4">Your wishlist is empty</h3>
          <p class="text-muted lead">
            Explore our collections and save your favorite lighting pieces.
          </p>
          <a href="index.html#products" class="btn btn-primary btn-lg px-5"
            >Browse Products</a
          >
        </div>
      </div>
    </section>

    <!-- Toast Notification -->
    <div id="toast"><strong id="toast-message"></strong></div>

    <footer class="bg-dark text-light py-5">
      <div class="container">
        <div class="row g-5">
          <!-- Company Info -->
          <div class="col-lg-4 col-md-6">
            <img
              src="img/Gloriva Lighting.png"
              alt="Gloriva Lighting Logo"
              width="140"
              class="mb-4"
            />
            <p class="mb-4">
              Illuminating spaces with elegance and innovation since 2010.
              Premium lighting solutions for every home and business.
            </p>
            <div class="social-icons d-flex gap-3">
              <a href="#" class="social-icon"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a href="#" class="social-icon"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
              <a href="#" class="social-icon"
                ><i class="fab fa-pinterest-p"></i
              ></a>
              <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
            </div>
          </div>

          <!-- Shop Links -->
          <div class="col-lg-2 col-md-6 col-sm-6">
            <h5 class="fw-bold mb-4 text-warning">Shop</h5>
            <ul class="list-unstyled footer-links">
              <li><a href="indoor-lighting.html">Indoor Lighting</a></li>
              <li><a href="outdoor-lighting.html">Outdoor Lighting</a></li>
              <li><a href="smart-lighting.html">Smart Lighting</a></li>
              <li>
                <a href="Commercial-Solutions.html">Commercial Solutions</a>
              </li>
              <li><a href="newarrivial.html">New Arrivals</a></li>
              <li><a href="#">Sale</a></li>
            </ul>
          </div>

          <!-- Support Links -->
          <div class="col-lg-3 col-md-6 col-sm-6">
            <h5 class="fw-bold mb-4 text-warning">Customer Service</h5>
            <ul class="list-unstyled footer-links">
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">FAQ</a></li>
              <li><a href="#">Shipping & Delivery</a></li>
              <li><a href="#">Returns & Exchanges</a></li>
              <li><a href="#">Warranty</a></li>
              <li><a href="#">Track Order</a></li>
              <li><a href="#">Privacy Policy</a></li>
            </ul>
          </div>

          <!-- Newsletter & Payment -->
          <div class="col-lg-3 col-md-6">
            <h5 class="fw-bold mb-4 text-warning">Stay Connected</h5>
            <p class="mb-3">Subscribe for exclusive offers and new arrivals</p>
            <form class="d-flex mb-4">
              <input
                type="email"
                class="form-control me-2"
                placeholder="Your email"
                aria-label="Email"
              />
              <button class="btn btn-warning" type="submit">Subscribe</button>
            </form>
            <div>
              <p class="mb-2 small opacity-75">We accept:</p>
              <div class="payment-icons d-flex gap-3">
                <i class="fab fa-cc-visa fa-2x"></i>
                <i class="fab fa-cc-mastercard fa-2x"></i>
                <i class="fab fa-cc-amex fa-2x"></i>
                <i class="fab fa-cc-paypal fa-2x"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Divider -->
        <hr class="my-5 border-secondary opacity-25" />

        <!-- Copyright -->
        <div class="row align-items-center">
          <div class="col-md-6 text-center text-md-start">
            <p class="mb-0 small">
              &copy; 2025 Gloriva Lighting. All Rights Reserved.
            </p>
          </div>
          <div class="col-md-6 text-center text-md-end">
            <div class="footer-bottom-links small">
              <a href="#" class="text-light opacity-75 me-3">Privacy Policy</a>
              <a href="#" class="text-light opacity-75 me-3"
                >Terms of Service</a
              >
              <a href="#" class="text-light opacity-75">Sitemap</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>

    <script>
      $(document).ready(function () {
        AOS.init({ duration: 800, once: true });

        // Helper: Get current wishlist items from DOM
        function getCurrentWishlist() {
          let wishlist = [];
          $(".wishlist-item").each(function () {
            const item = $(this);
            wishlist.push({
              id: item.data("product-id").toString(),
              name: item.find("h4").text().trim(),
              price: parseInt(
                item.find(".price-tag").text().replace("₹", "").replace(",", "")
              ),
              image: item.find("img").attr("src"),
            });
          });
          return wishlist;
        }

        // Helper: Save current wishlist to localStorage
        function saveWishlist() {
          localStorage.setItem(
            "wishlist",
            JSON.stringify(getCurrentWishlist())
          );
        }

        // Load wishlist from localStorage on page load (optional enhancement)
        function loadWishlistFromStorage() {
          const saved = localStorage.getItem("wishlist");
          if (saved) {
            // This is optional — if you want to rebuild DOM from storage
            // For now, we just ensure it's saved on actions
          }
        }

        // Update counts on load
        updateCounts();
        loadWishlistFromStorage();

        // Quantity controls
        $(".qty-plus").click(function () {
          let input = $(this).siblings(".qty-input");
          input.val(parseInt(input.val()) + 1);
        });

        $(".qty-minus").click(function () {
          let input = $(this).siblings(".qty-input");
          if (parseInt(input.val()) > 1) input.val(parseInt(input.val()) - 1);
        });

        // Add to Cart
        $(".add-to-cart-btn").click(function () {
          const item = $(this).closest(".wishlist-item");
          const id = item.data("product-id").toString();
          const name = item.find("h4").text().trim();
          const priceText = item.find(".price-tag").text().trim();
          const price = parseInt(priceText.replace("₹", "").replace(",", ""));
          const qty = parseInt(item.find(".qty-input").val());
          const image = item.find("img").attr("src");

          let cart = JSON.parse(localStorage.getItem("cart") || "[]");

          const existingIndex = cart.findIndex((p) => p.id === id);
          if (existingIndex > -1) {
            cart[existingIndex].quantity += qty;
          } else {
            cart.push({ id, name, price, quantity: qty, image });
          }

          localStorage.setItem("cart", JSON.stringify(cart));

          // === SAVE WISHLIST TO LOCALSTORAGE AFTER ADDING TO CART ===
          saveWishlist();

          showToast(`"${name}" (${qty}x) added to cart!`);
          updateCartBadge();
        });

        // Remove from wishlist
        $(".remove-item").click(function (e) {
          e.preventDefault();
          $(this)
            .closest(".wishlist-item")
            .fadeOut(400, function () {
              $(this).remove();
              updateCounts();
              checkEmptyState();

              // Save updated wishlist after removal
              saveWishlist();

              showToast("Item removed from wishlist");
            });
        });

        // Clear All
        $("#clear-all-btn").click(function () {
          if (confirm("Clear all items from wishlist?")) {
            $(".wishlist-item").fadeOut(400, function () {
              $(this).remove();
              updateCounts();
              checkEmptyState();

              // Clear wishlist in storage
              localStorage.setItem("wishlist", JSON.stringify([]));

              showToast("Wishlist cleared");
            });
          }
        });

        // Share
        $("#share-wishlist").click(function () {
          navigator.clipboard.writeText(window.location.href).then(() => {
            showToast("Wishlist link copied!");
          });
        });

        // Save wishlist on page unload (safety net)
        $(window).on("beforeunload", function () {
          saveWishlist();
        });

        function updateCounts() {
          const count = $(".wishlist-item").length;
          $("#item-count, #wishlist-count").text(count);
        }

        function checkEmptyState() {
          if ($(".wishlist-item").length === 0) {
            $(".wishlist-items").hide();
            $(".d-flex.justify-content-between").hide();
            $(".empty-wishlist").fadeIn();
          }
        }

        function updateCartBadge() {
          let cart = JSON.parse(localStorage.getItem("cart") || "[]");
          let total = cart.reduce((sum, item) => sum + item.quantity, 0);
          $(".cart-toggle .count").text(total);
        }

        function showToast(message, type = "success") {
          // Assuming you have a toast element like in previous versions
          const toast = $("#toast");
          $("#toast-message").text(message);
          toast.removeClass("error").addClass(type === "error" ? "error" : "");
          toast.addClass("show");
          setTimeout(() => toast.removeClass("show"), 3000);
        }

        // Initial badge update
        updateCartBadge();
      });
    </script>
  </body>
</html>
